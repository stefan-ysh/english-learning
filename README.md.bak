这是一个非常清晰且务实的调整！将首页改为“功能导航大厅”，架构会更灵活，既能满足现在的“高频词汇”，以后加“情景对话”或“语法积木”也只需要加个入口。

针对 **“滑动卡片”** 和 **“学/测分离”** 的需求，我们需要对**路由结构**、**组件设计**和**数据结构**进行针对性设计。

请复制以下更新后的 Markdown 文档。

---

# 语妍 (Jingyan English Learning)

## 1. 产品交互流程 (User Flow)

### 1.1 首页 (Home Portal)
不再是关卡路径图，而是一个**宫格导航菜单**。
*   **视觉**：大圆角卡片矩阵，每个卡片代表一个模块（如“高频词汇”、“实用短句”等）。
*   **状态**：卡片上可以显示简单的进度（如 "已学 20/100 词"）。
*   **当前重点**：只有“高频词汇”是激活的，其他可以是灰色（Coming Soon）。

### 1.2 高频词汇模块 (Vocabulary Module)
点击“高频词汇”后，进入二级菜单或直接进入学习：
1.  **选择分类**：(如：厨房工具、常见蔬菜、清洁用品)。
2.  **选择模式**：
    *   📖 **学习模式 (Learn Mode)**：沉浸式卡片流。
    *   📝 **测试模式 (Quiz Mode)**：闯关式答题。

## 2. 核心组件设计：滑动卡片 (Swipeable Card System)

为了实现“丝滑”的体验，我们将使用 `Framer Motion` 的 `drag` 属性来实现类似 Tinder 或 探探 的滑动效果，或者简单的左右切换动画。

### 2.1 学习模式卡片 (Flashcard)
*   **正面**：
    *   大张图片 (Image)。
    *   英文单词 (大字)。
    *   音标 (辅助)。
    *   🔈 播放按钮 (自动播放或点击播放)。
*   **交互**：
    *   **点击卡片**：翻转或展开，显示中文释义和例句。
    *   **左滑/右滑**：切换到上一个/下一个单词。
    *   **自动播放**：切换到新卡片时，自动朗读英文。

### 2.2 测试模式卡片 (Quiz Card)
测试模式需要两种题型，通过 `type` 字段区分。

*   **题型 A：英选中 (Select Meaning)**
    *   **显示**：英文单词 + 播放按钮。
    *   **交互**：下方 3-4 个中文选项按钮。点击错误会抖动，点击正确会撒花并自动切下一题。

*   **题型 B：中写英 (Spell Word)**
    *   *考虑到用户基础差，直接手机打字太难，建议采用“字母拼写”或“填空补全”。*
    *   **显示**：中文释义 + 图片。
    *   **交互**：
        *   屏幕显示：`A _ P L _` (挖空) 或 空白输入框。
        *   下方提供“打乱的字母堆”供点击，或者原生键盘输入（可配置）。
    *   **反馈**：输入正确后卡片飞出，进入下一题。

## 3. 目录结构更新 (Directory Structure)

```text
app/
├── page.tsx               # 首页 (功能导航网格)
├── vocab/                 # 高频词汇模块
│   ├── page.tsx           # 词汇分类列表 (厨房、清扫...)
│   ├── [categoryId]/      # 具体分类入口
│   │   ├── page.tsx       # 模式选择页 (学习 vs 测试)
│   │   ├── learn/         # 学习模式
│   │   │   └── page.tsx   # 纯滑动卡片页面
│   │   └── quiz/          # 测试模式
│   │       └── page.tsx   # 答题页面
components/
├── home/
│   └── CategoryCard.tsx   # 首页的大菜单卡片
├── vocab/
│   ├── SwipeContainer.tsx # 处理滑动手势的容器
│   ├── FlashCard.tsx      # 学习用：展示卡片
│   ├── QuizCardSelect.tsx # 测试用：选择题卡片
│   └── QuizCardInput.tsx  # 测试用：填空题卡片
lib/
├── vocab-data.ts          # 词汇静态数据
└── store.ts               # Zustand 状态 (记录错题、进度)
```

## 4. 数据结构设计 (Data Schema)

为了支持测试模式，数据结构需要稍微丰富一点。

```typescript
// lib/vocab-data.ts

export type VocabItem = {
  id: string;
  word: string;       // Apple
  phonetic: string;   // /'æpl/
  cn: string;         // 苹果
  image: string;      // /images/apple.png
  audio?: string;     // 可选，默认使用 Web Speech API
  exampleEn?: string; // I eat an apple.
  exampleCn?: string; // 我吃一个苹果。
  
  // 混淆项 (用于生成选择题的错误选项，若不填则随机从库里取)
  distractors?: string[]; 
};

export type Category = {
  id: string;
  title: string;      // 厨房篇
  icon: string;
  color: string;      // bg-rose-400
  items: VocabItem[];
};

export const VOCAB_DATA: Category[] = [
  // ... 数据内容
];
```

## 5. 关键逻辑与 Prompt 指南

请将以下 Prompt 发送给 AI 以生成代码。

### 指令 1：生成数据结构与 Mock 数据
> "请帮我创建 `lib/vocab-data.ts`。
> 1. 定义 `VocabItem` 和 `Category` 接口。
> 2. 生成一个包含 2 个分类（'Housekeeping Tools', 'Vegetables'）的数据常量。
> 3. 每个分类下放 5 个单词。确保单词包含英文、音标、中文、例句。
> 4. 数据内容要适合出国务工人员，简单实用。"

### 指令 2：实现学习模式 (Swipe Flashcard)
> "请使用 Framer Motion 和 Tailwind CSS 实现一个 `VocabLearnView` 组件。
> **功能需求**：
> 1. 接收一个 `items` 数组。
> 2. 界面显示一张大卡片，占据屏幕主要区域。
> 3. 支持左右滑动切换（使用 AnimatePresence 和 drag 属性）。
> 4. 卡片默认显示英文和图片。点击卡片本身，卡片会翻转（3D翻转效果）显示中文和例句。
> 5. 底部有一个大圆形的‘播放读音’按钮。
> 6. 风格要求：圆角 `rounded-3xl`，阴影柔和，背景色可爱（粉色系）。"

### 指令 3：实现测试模式 (Quiz Logic)
> "请实现一个 `VocabQuizView` 组件。
> **逻辑需求**：
> 1. 接收 `items` 数组。
> 2. 维护一个 `currentIndex` 和 `score` 状态。
> 3. **混合题型**：根据当前题目的索引奇偶数，自动切换题型。
>    - 偶数题：显示英文，用户从下方 4 个中文按钮中选一个（3个错误选项需从其他数据中随机抽取）。
>    - 奇数题：显示中文，用户需在输入框输入英文。为了降低难度，请在输入框下方显示该单词被打乱顺序的字母芯片（Letter Chips），用户点击芯片自动填入输入框。
> 4. 答对显示绿色反馈并自动切下一题；答错震动并显示正确答案。
> 5. 最后显示总分结算卡片。"

---

### 设计师（Model）的补充建议：

针对**“填空题”**，我强烈建议采用**“字母芯片 (Letter Chips)”**的方式（如 Prompt 指令3中所述）。
*   **原因**：让基础差的用户在手机键盘上敲出 `Refrigerator`（冰箱）是非常痛苦的，容易按错且挫败感强。
*   **方案**：屏幕上给出一堆打乱的字母 `[e] [g] [d] [i] [f] [r]`... 用户只需要按顺序点击，就能拼出单词。这既训练了拼写，又降低了操作门槛。

现在，你可以先让 AI 生成 **数据结构**，然后生成 **学习模式的滑动卡片**。这两步完成后，我们再做测试模式。